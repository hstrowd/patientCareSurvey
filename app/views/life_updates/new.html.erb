<%= form_for(@life_update, html: { id: 'new-life-update', class: :survey }) do |f| %>
  <div class="title">Please answer the following about your life:</div>

  <div class="intro">
    Please rate your response to the following based on how you feel today:
  </div>

  <div class="question rating depressed">
    <%= f.label(:depressed_rating, 'In the past week, I have spent more than half of the time feeling depressed:') %>
    <%= f.hidden_field(:depressed_rating) %>
    <div class="response drop-down">
      <%= select_tag(:depressed_rating_select,
                     options_for_select([ ['Select one...', :select],
                                          ['Strongly Agree',:strong_agree],
                                          ['Agree',:agree],
                                          ['Neutral',:neutral],
                                          ['Disagree',:disagree],
                                          ['Strongly Disagree',:strong_disagree] ])) %>
    </div>
    <div class="response radio">
      <div class="option">
        <%= radio_button_tag(:depressed_rating_radio, :strong_agree) %>
        <%= label_tag(:depressed_rating_radio_strong_agree, 'Strongly Agree') %>
      </div>
      <div class="option">
        <%= radio_button_tag(:depressed_rating_radio, :agree) %>
        <%= label_tag(:depressed_rating_radio_agree, 'Agree') %>
      </div>
      <div class="option">
        <%= radio_button_tag(:depressed_rating_radio, :neutral) %>
        <%= label_tag(:depressed_rating_radio_neutral, 'Neutral') %>
      </div>
      <div class="option">
        <%= radio_button_tag(:depressed_rating_radio, :disagree) %>
        <%= label_tag(:depressed_rating_radio_disagree, 'Disagree') %>
      </div>
      <div class="option">
        <%= radio_button_tag(:depressed_rating_radio, :strong_disagree) %>
        <%= label_tag(:depressed_rating_radio_strong_disagree, 'Strongly Disagree') %>
      </div>
    </div>
    <script>
      $(document).ready(function() {
        patientCare.reflectField('new-life-update',
                                 'input#life_update_depressed_rating',
                                 'select#depressed_rating_select');
        patientCare.reflectRadio('new-life-update',
                                 'input#life_update_depressed_rating',
                                 'depressed_rating_radio');
      });
    </script>
  </div>

  <div class="question rating hope">
    <%= f.label(:hope_rating, 'In the past week, I have spent more than half of the time feeling no hope:') %>
    <%= f.hidden_field(:hope_rating) %>
    <div class="response drop-down">
      <%= select_tag(:hope_rating_select,
                     options_for_select([ ['Select one...', :select],
                                        ['Strongly Agree',:strong_agree],
                                        ['Agree',:agree],
                                        ['Neutral',:neutral],
                                        ['Disagree',:disagree],
                                        ['Strongly Disagree',:strong_disagree] ])) %>
    </div>
    <div class="response radio">
      <div class="option">
        <%= radio_button_tag(:hope_rating_radio, :strong_agree) %>
        <%= label_tag(:hope_rating_radio_strong_agree, 'Strongly Agree') %>
      </div>
      <div class="option">
        <%= radio_button_tag(:hope_rating_radio, :agree) %>
        <%= label_tag(:hope_rating_radio_agree, 'Agree') %>
      </div>
      <div class="option">
        <%= radio_button_tag(:hope_rating_radio, :neutral) %>
        <%= label_tag(:hope_rating_radio_neutral, 'Neutral') %>
      </div>
      <div class="option">
        <%= radio_button_tag(:hope_rating_radio, :disagree) %>
        <%= label_tag(:hope_rating_radio_disagree, 'Disagree') %>
      </div>
      <div class="option">
        <%= radio_button_tag(:hope_rating_radio, :strong_disagree) %>
        <%= label_tag(:hope_rating_radio_strong_disagree, 'Strongly Disagree') %>
      </div>
    </div>
    <script>
      $(document).ready(function() {
        
        patientCare.reflectField('new-life-update',
                                 'input#life_update_hope_rating',
                                 'select#hope_rating_select');
        patientCare.reflectRadio('new-life-update',
                                 'input#life_update_hope_rating',
                                 'hope_rating_radio');
      });
    </script>
  </div>

  <div class="question rating spiritual">
    <%= f.label(:spiritual_rating, 'I consider myself a spiritual person:') %>
    <%= f.hidden_field(:spiritual_rating) %>
    <div class="response drop-down">
      <%= select_tag(:spiritual_rating_select,
                     options_for_select([ ['Select one...', :select],
                                          ['Strongly Agree',:strong_agree],
                                          ['Agree',:agree],
                                          ['Neutral',:neutral],
                                          ['Disagree',:disagree],
                                          ['Strongly Disagree',:strong_disagree] ])) %>
    </div>
    <div class="response radio">
      <div class="option">
        <%= radio_button_tag(:spiritual_rating_radio, :strong_agree) %>
        <%= label_tag(:spiritual_rating_radio_strong_agree, 'Strongly Agree') %>
      </div>
      <div class="option">
        <%= radio_button_tag(:spiritual_rating_radio, :agree) %>
        <%= label_tag(:spiritual_rating_radio_agree, 'Agree') %>
      </div>
      <div class="option">
        <%= radio_button_tag(:spiritual_rating_radio, :neutral) %>
        <%= label_tag(:spiritual_rating_radio_neutral, 'Neutral') %>
      </div>
      <div class="option">
        <%= radio_button_tag(:spiritual_rating_radio, :disagree) %>
        <%= label_tag(:spiritual_rating_radio_disagree, 'Disagree') %>
      </div>
      <div class="option">
        <%= radio_button_tag(:spiritual_rating_radio, :strong_disagree) %>
        <%= label_tag(:spiritual_rating_radio_strong_disagree, 'Strongly Disagree') %>
      </div>
    </div>
    <script>
      $(document).ready(function() {
        patientCare.reflectField('new-life-update',
                                 'input#life_update_spiritual_rating',
                                 'select#spiritual_rating_select');
        patientCare.reflectRadio('new-life-update',
                                 'input#life_update_spiritual_rating',
                                 'spiritual_rating_radio');
      });
    </script>
  </div>

  <div class="question rating support-sources">
    <%= f.label(:support_sources, 'I find my support from (select all that apply):') %>
    <div class="response check">
      <div class="option">
        <%= check_box_tag(:self_support_check) %>
        <%= label_tag(:self_support_check, 'Myself') %>
      </div>
      <div class="option">
        <%= check_box_tag(:family_support_check) %>
        <%= label_tag(:family_support_check, 'Family') %>
      </div>
      <div class="option">
        <%= check_box_tag(:friend_support_check) %>
        <%= label_tag(:friend_support_check, 'Friends') %>
      </div>
      <div class="option">
        <%= check_box_tag(:religion_support_check) %>
        <%= label_tag(:religion_support_check, 'Religion') %>
      </div>
      <div class="option">
        <%= check_box_tag(:other_support_check) %>
        <%= label_tag(:other_support_check, 'Other') %>
      </div>
    </div>
  </div>

  <div class="actions">
    <%= hidden_field_tag(:step, '', class: :action) %>

    <%= link_to("Cancel", '#', onClick: 'submitForm("cancel")', class: :cancel) %>
    <%= link_to("Back", '#', onClick: 'submitForm("back")', class: :back) %>
    <%= link_to("Next", '#', onClick: 'submitForm("submit")', class: :next) %>
  </div>

<% end %>


<script>
  var submitForm = function(action) {
    patientCare.submitForm("new-life-update", action, {});
  };
</script>
